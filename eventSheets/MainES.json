{
	"name": "MainES",
	"events": [
		{
			"eventType": "include",
			"includeSheet": "FXES"
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "PlayerController",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 900416916350972,
							"parameters": {
								"key": 87
							}
						}
					],
					"actions": [
						{
							"id": "simulate-control",
							"objectClass": "playerCharacter",
							"sid": 505608193007549,
							"behaviorType": "8Direction",
							"parameters": {
								"control": "up"
							}
						},
						{
							"id": "set-animation",
							"objectClass": "playerCharacter",
							"sid": 818545556449062,
							"parameters": {
								"animation": "\"walk\"",
								"from": "beginning"
							}
						}
					],
					"sid": 227872794327212
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 820467517264616,
							"parameters": {
								"key": 83
							}
						}
					],
					"actions": [
						{
							"id": "simulate-control",
							"objectClass": "playerCharacter",
							"sid": 173333964736784,
							"behaviorType": "8Direction",
							"parameters": {
								"control": "down"
							}
						},
						{
							"id": "set-animation",
							"objectClass": "playerCharacter",
							"sid": 682335434100937,
							"parameters": {
								"animation": "\"walk\"",
								"from": "beginning"
							}
						}
					],
					"sid": 914075540827130
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 831400772665423,
							"parameters": {
								"key": 65
							}
						}
					],
					"actions": [
						{
							"id": "simulate-control",
							"objectClass": "playerCharacter",
							"sid": 518256965878755,
							"behaviorType": "8Direction",
							"parameters": {
								"control": "left"
							}
						},
						{
							"id": "set-animation",
							"objectClass": "playerCharacter",
							"sid": 147655325865234,
							"parameters": {
								"animation": "\"walk\"",
								"from": "beginning"
							}
						}
					],
					"sid": 237945387024186
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 319983891426296,
							"parameters": {
								"key": 68
							}
						}
					],
					"actions": [
						{
							"id": "simulate-control",
							"objectClass": "playerCharacter",
							"sid": 968616934841376,
							"behaviorType": "8Direction",
							"parameters": {
								"control": "right"
							}
						},
						{
							"id": "set-animation",
							"objectClass": "playerCharacter",
							"sid": 537436431683160,
							"parameters": {
								"animation": "\"walk\"",
								"from": "beginning"
							}
						}
					],
					"sid": 801405877109425
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "trigger-once-while-true",
							"objectClass": "System",
							"sid": 831139425521214,
							"disabled": true
						},
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 813054697994482,
							"parameters": {
								"key": 87
							},
							"isInverted": true
						},
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 826836202191431,
							"parameters": {
								"key": 83
							},
							"isInverted": true
						},
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 199782564860816,
							"parameters": {
								"key": 65
							},
							"isInverted": true
						},
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 545775267226178,
							"parameters": {
								"key": 68
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-animation",
							"objectClass": "playerCharacter",
							"sid": 587366950249191,
							"disabled": true,
							"parameters": {
								"animation": "\"idle\"",
								"from": "beginning"
							}
						},
						{
							"type": "script",
							"script": "if (!runtime.levelManager.levelState.heroAttack) {\n\tconst player = runtime.objects.playerCharacter.getFirstInstance();\n\tplayer.setAnimation(\"idle\");\n}"
						}
					],
					"sid": 753027179298598
				}
			],
			"sid": 166320559319883
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-start-of-layout",
					"objectClass": "System",
					"sid": 891723228131804
				}
			],
			"actions": [],
			"sid": 910522694761905,
			"children": [
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"id": "set-layer-visible",
							"objectClass": "System",
							"sid": 789335351767086,
							"parameters": {
								"layer": "\"clayTraderUI\"",
								"visibility": "invisible"
							}
						},
						{
							"id": "set-layer-interactive",
							"objectClass": "System",
							"sid": 770021333938583,
							"parameters": {
								"layer": "\"clayTraderUI\"",
								"interactive": false
							}
						},
						{
							"id": "set-layer-visible",
							"objectClass": "System",
							"sid": 151581589188307,
							"parameters": {
								"layer": "\"UI\"",
								"visibility": "invisible"
							}
						},
						{
							"id": "set-layer-visible",
							"objectClass": "System",
							"sid": 995004394719946,
							"parameters": {
								"layer": "\"cinematics\"",
								"visibility": "invisible"
							}
						}
					],
					"sid": 424281586956841
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "every-tick",
					"objectClass": "System",
					"sid": 944835850876572
				}
			],
			"actions": [],
			"sid": 193908131165657,
			"children": [
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"type": "script",
							"script": "runtime.levelManager.update();"
						}
					],
					"sid": 759740172124995
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-key-pressed",
					"objectClass": "Keyboard",
					"sid": 871923433554326,
					"parameters": {
						"key": 70
					}
				}
			],
			"actions": [
				{
					"type": "script",
					"script": "runtime.levelManager.levelState.heroAttack = true;"
				},
				{
					"callFunction": "camShake",
					"sid": 728160457083428
				}
			],
			"sid": 859080109183828
		},
		{
			"functionName": "camShake",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [],
			"sid": 961913370271562,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-all",
							"objectClass": "System",
							"sid": 734433399468168,
							"parameters": {
								"object": "camera"
							}
						}
					],
					"actions": [
						{
							"id": "shake",
							"objectClass": "camera",
							"sid": 639006161446595,
							"behaviorType": "ScrollTo",
							"parameters": {
								"magnitude": "10",
								"duration": "0.4",
								"mode": "reducing-magnitude"
							}
						}
					],
					"sid": 904345376869780
				}
			]
		}
	],
	"sid": 115018507732469
}